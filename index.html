<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>JARVIS AI</title>
  <style>
    body {
      background-color: #000;
      color: #0ff;
      font-family: 'Courier New', monospace;
      padding: 30px;
      text-align: center;
    }
    #output {
      margin-top: 20px;
      font-size: 1.5em;
      color: #0f0;
    }
    button {
      padding: 15px 30px;
      font-size: 1.2em;
      background: #111;
      color: #0ff;
      border: 2px solid #0ff;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover {
      background: #0ff;
      color: #000;
    }
  </style>
</head>
<body>
  <h1>JARVIS AI Voice Assistant</h1>
  <p>Click the button and start speaking...</p>
  <button onclick="startJarvis()">üéôÔ∏è Activate JARVIS</button>
  <div id="output"></div>

  <script>
    const synth = window.speechSynthesis;
    const output = document.getElementById("output");

    function speak(text) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = "en-US";
      utterance.pitch = 1;
      utterance.rate = 1.1;
      utterance.volume = 1;
      const voices = speechSynthesis.getVoices();
      utterance.voice = voices.find(v => v.name.includes("Google") || v.lang === "en-US");
      synth.cancel(); // stop previous speech
      synth.speak(utterance);
    }

    function getLocationAndRespond() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition((position) => {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;
          const response = `Your current location is latitude ${lat.toFixed(2)} and longitude ${lon.toFixed(2)}.`;
          output.textContent = response;
          speak(response);
        });
      } else {
        output.textContent = "Geolocation is not supported.";
        speak("Sorry, I cannot access your location.");
      }
    }

    function playMusic() {
      let audio = new Audio("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3");
      audio.play();
      speak("Playing your music now.");
    }
     function saveReminder(message) {
      const reminders = JSON.parse(localStorage.getItem("reminders") || "[]");
      const tomorrow = new Date();
      tomorrow.setDate(tomorrow.getDate() + 1);
      reminders.push({ message, remindOn: tomorrow.toDateString() });
      localStorage.setItem("reminders", JSON.stringify(reminders));
      speak(`Reminder set for tomorrow: ${message}`);
    });
    }

    function checkReminders() {
      const today = new Date().toDateString();
      const reminders = JSON.parse(localStorage.getItem("reminders") || "[]");
      const todayReminders = reminders.filter(r => r.remindOn === today);
      if (todayReminders.length > 0) {
        todayReminders.forEach(r => {
          speak(`Reminder: ${r.message}`);
          output.innerHTML += `<br><b>Reminder:</b> ${r.message}`;
        });
      }

    function handleCommand(command) {
      command = command.toLowerCase();
      output.textContent = `You said: "${command}"`;

      if (command.includes("hello") || command.includes("hi")) {
        speak("Hello sir. How can I help you today?");
      } else if (command.includes("time")) {
        const now = new Date();
        speak(`Current time is ${now.getHours()} ${now.getMinutes()}`);
      } else if (command.includes("location")) {
        getLocationAndRespond();
      } else if (command.includes("play music")) {
        playMusic();
      } else if (command.includes("stop")) {
        speak("Shutting down. Goodbye.");
      } else {
        aiResponse(command);
      }
    }

    function aiResponse(query) {
      // Simulated AI response ‚Äì Replace this with your own backend if needed
      const responses = {
        "what is your name": "I am JARVIS, your virtual assistant.",
        "who created you": "I was created by a brilliant developer.",
        "tell me a joke": "Why did the computer go to therapy? Because it had too many bytes of emotional baggage!"
      };

      let reply = responses[query.toLowerCase()] || "I didn't understand that, but I'm still learning.";
      output.textContent = reply;
      speak(reply);
    }

    function startJarvis() {
      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = "en-US";
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;

      recognition.start();
      speak("Listening...");

      recognition.onresult = function (event) {
        const transcript = event.results[0][0].transcript;
        handleCommand(transcript);
      };

      recognition.onerror = function (event) {
        output.textContent = "Error: " + event.error;
        speak("Sorry, I didn't catch that.");
      };
    }
  </script>
</body>
</html>
